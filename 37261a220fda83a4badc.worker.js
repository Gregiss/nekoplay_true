!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/",r(r.s=0)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=async function(e){const t=await fetch(e.replace("https://img1.ak.crunchyroll.com/","/cdn/")),r=await t.arrayBuffer();if(!function(e){return u.every((t,r)=>e[r]===t)}(new Uint8Array(r).slice(0,8)))return[];const s=new DataView(r),f=s.getUint32(o,!0)||1e3,d=s.getUint32(c,!0),h=[];for(let e=0,t=a;e<d;e+=1,t+=i){const e=t,a=t+4,o=a+i,c=s.getUint32(a,!0),u=s.getUint32(o,!0),d=u-c;h.push({time:s.getUint32(e,!0)*f/1e3-15,url:`data:image/jpeg;base64,${Object(n.fromByteArray)(new Uint8Array(r.slice(c,c+d)))}`})}return h};var n=r(1);r.n(n);const a=64,o=16,c=12,i=8,u=new Uint8Array(["0x89","0x42","0x49","0x46","0x0d","0x0a","0x1a","0x0a"]);addEventListener("message",function(e){var r,n=e.data,a=n.type,o=n.method,c=n.id,i=n.params;"RPC"===a&&o&&((r=t[o])?Promise.resolve().then(function(){return r.apply(t,i)}):Promise.reject("No such method")).then(function(e){postMessage({type:"RPC",id:c,result:e})}).catch(function(e){var t={message:e};e.stack&&(t.message=e.message,t.stack=e.stack,t.name=e.name),postMessage({type:"RPC",id:c,error:t})})}),postMessage({type:"RPC",method:"ready"})},function(e,t,r){"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,n=s(e),c=n[0],i=n[1],u=new o(function(e,t,r){return 3*(t+r)/4-r}(0,c,i)),f=0,d=i>0?c-4:c;for(r=0;r<d;r+=4)t=a[e.charCodeAt(r)]<<18|a[e.charCodeAt(r+1)]<<12|a[e.charCodeAt(r+2)]<<6|a[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;2===i&&(t=a[e.charCodeAt(r)]<<2|a[e.charCodeAt(r+1)]>>4,u[f++]=255&t);1===i&&(t=a[e.charCodeAt(r)]<<10|a[e.charCodeAt(r+1)]<<4|a[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t);return u},t.fromByteArray=function(e){for(var t,r=e.length,a=r%3,o=[],c=0,i=r-a;c<i;c+=16383)o.push(f(e,c,c+16383>i?i:c+16383));1===a?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===a&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],a=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,u=c.length;i<u;++i)n[i]=c[i],a[c.charCodeAt(i)]=i;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function f(e,t,r){for(var a,o,c=[],i=t;i<r;i+=3)a=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(255&e[i+2]),c.push(n[(o=a)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return c.join("")}a["-".charCodeAt(0)]=62,a["_".charCodeAt(0)]=63}]);